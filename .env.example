# Environment Configuration
# Copy this file to .env and update values as needed

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_NAME=Thaqib
APP_ENV=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# CAMERA SETTINGS
# =============================================================================
# Camera source: webcam index (0, 1, 2...) or RTSP URL
# Examples:
#   CAMERA_SOURCE=0
#   CAMERA_SOURCE=rtsp://192.168.1.100:554/stream
CAMERA_SOURCE=0

# Frame resolution (width x height)
CAMERA_WIDTH=1280
CAMERA_HEIGHT=720
CAMERA_FPS=30

# =============================================================================
# DETECTION SETTINGS
# =============================================================================
# How often to run full detection (seconds)
DETECTION_INTERVAL=1.0

# YOLOv8 model variant: n (nano), s (small), m (medium), l (large), x (xlarge)
YOLO_MODEL=yolov8s

# Minimum confidence for person detection (0.0 - 1.0)
DETECTION_CONFIDENCE=0.5

# =============================================================================
# TRACKING SETTINGS
# =============================================================================
# Maximum distance (pixels) to associate detections between frames
TRACKING_MAX_DISTANCE=100

# Number of frames to keep track alive without detection
TRACKING_MAX_AGE=30

# =============================================================================
# NEIGHBOR MODELING
# =============================================================================
# Maximum distance (pixels) to consider as neighbor
NEIGHBOR_DISTANCE_THRESHOLD=200

# Number of nearest neighbors to track (k-nearest)
NEIGHBOR_K=4

# =============================================================================
# HEAD POSE & GAZE SETTINGS
# =============================================================================
# Head pose model: mediapipe or 6drepnet
HEAD_POSE_MODEL=mediapipe

# =============================================================================
# RISK DETECTION SETTINGS
# =============================================================================
# Angular tolerance for risk angle matching (degrees)
RISK_ANGLE_TOLERANCE=15

# Duration threshold for suspicious behavior (seconds)
SUSPICIOUS_DURATION_THRESHOLD=2.0

# Percentage of frames that must show suspicious gaze (0.0 - 1.0)
SUSPICIOUS_MATCH_RATIO=0.7

# =============================================================================
# DATA STORAGE
# =============================================================================
# Directory for storing feature logs
DATA_DIR=./data

# Enable/disable feature logging
ENABLE_LOGGING=true

# Log format: csv or parquet
LOG_FORMAT=csv

# =============================================================================
# SERVER SETTINGS
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# =============================================================================
# DATABASE SETTINGS
# =============================================================================
# SQLite for development, PostgreSQL for production
DATABASE_URL=sqlite:///./data/thaqib.db
# DATABASE_URL=postgresql://user:password@localhost:5432/thaqib

# =============================================================================
# WEBSOCKET SETTINGS
# =============================================================================
WS_HEARTBEAT_INTERVAL=30
